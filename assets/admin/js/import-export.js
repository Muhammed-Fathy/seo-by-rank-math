!function(){"use strict";var e={"./assets/admin/src/helpers/addNotice.js":function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var r=a("jquery"),n=a.n(r);function i(e,t,a,r){t=t||"error",r=r||!1;var i=n()('<div class="notice notice-'+t+' is-dismissible"><p>'+e+"</p></div>").hide();a.next(".notice").remove(),a.after(i),i.slideDown(),n()(document).trigger("wp-updates-notice-added"),r&&setTimeout((function(){i.fadeOut((function(){i.remove()}))}),r)}},"./assets/admin/src/helpers/ajax.js":function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var r=a("jquery"),n=a.n(r);function i(e,t,a){return n().ajax({url:rankMath.ajaxurl,type:a||"POST",dataType:"json",data:n().extend(!0,{action:"rank_math_"+e,security:rankMath.security},t)})}},"./assets/admin/src/helpers/boxTabs.js":function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var r=a("jquery"),n=a.n(r);function i(e){var t=e||".rank-math-box-tabs";n()(t).children().on("click",(function(e){e.preventDefault();var t=n()(this),a=t.attr("href").substr(1);t.addClass("active-tab").siblings().removeClass("active-tab"),n()("#"+a).addClass("active-tab").siblings().removeClass("active-tab")}))}},jquery:function(e){e.exports=jQuery}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){a.r(r);var e,t=a("jquery"),n=a.n(t),i=a("./assets/admin/src/helpers/ajax.js"),o=a("./assets/admin/src/helpers/addNotice.js"),s=a("./assets/admin/src/helpers/boxTabs.js");(e=n())((function(){({init:function(){var t=this;(0,s.default)(),e(document.body).on("click",".rank-math-action",(function(a){var r=e(a.currentTarget).data("action");r in t&&t[r](a)})),this.importConfirm()},importConfirm:function(){var t=e("#import-me");t.on("change",(function(){t.removeClass("invalid")})),e("#rank-math-import-form").on("submit",(function(e){if(!t.get(0).files.length)return t.addClass("invalid"),void e.preventDefault();window.confirm(rankMath.importSettingsConfirm)||e.preventDefault()}))},createBackup:function(t){var a=e(t.currentTarget);a.prop("disabled",!0),(0,i.default)("create_backup").always((function(){a.prop("disabled",!1)})).done((function(t){if(t.success){var r=a.parent().find("tbody"),n=r.find("tr:first").clone();n.removeClass("hidden").find("th").html(t.backup),n.find("[data-action]").attr("data-key",t.key),r.prepend(n),e("#rank-math-no-backup-message").addClass("hidden"),(0,o.default)(t.message,"success",e(".wp-header-end"),2e3)}else(0,o.default)(t.error,"error",e(".wp-header-end"),2e3)}))},restoreBackup:function(t){if(window.confirm(rankMath.restoreConfirm)){var a=e(t.currentTarget);a.prop("disabled",!0),(0,i.default)("restore_backup",{key:a.attr("data-key")}).always((function(){a.prop("disabled",!1)})).done((function(t){t.success?(0,o.default)(t.message,"success",e(".wp-header-end"),2e3):(0,o.default)(t.error,"error",e(".wp-header-end"),2e3)}))}},deleteBackup:function(t){if(window.confirm(rankMath.deleteBackupConfirm)){var a=e(t.currentTarget);a.prop("disabled",!0),(0,i.default)("delete_backup",{key:a.data("key")}).always((function(){a.prop("disabled",!1)})).done((function(t){if(t.success){var r=a.closest("table");a.closest("tr").fadeOut((function(){e(this).remove(),1>r.find("tr").length&&e("#rank-math-no-backup-message").show()})),(0,o.default)(t.message,"success",e(".wp-header-end"),2e3)}else(0,o.default)(t.error,"error",e(".wp-header-end"),2e3)}))}},importPlugin:function(t){var a=e(t.currentTarget),r=a.closest("form").find(".rank-math-box-tabs > .active-tab").text().trim();if(window.confirm(rankMath.importPluginConfirm.replace("%s",r))){var n=e.map(a.parents(".active-tab").find(".choices").find("input:checkbox:checked"),(function(e){return e.value}));if(1>n.length)(0,o.default)(rankMath.importPluginSelectAction,"error",e(".wp-header-end"),5e3);else{a.prop("disabled",!0),a.data("active")&&n.push("deactivate");var i=e('<textarea id="import-progress-area" class="import-progress-area large-text" disabled="disabled" rows="8" style="margin: 20px 0;background: #eee;"></textarea>');e("#import-progress-area").remove(),a.parents(".active-tab").find("table").after(i),this.addLog("Import started...",i),this.ajaxImport(a.data("slug"),n,i,null,(function(){a.prop("disabled",!1),setTimeout((function(){i.fadeOut((function(){i.remove()}))}),3e3)}))}}},ajaxImport:function(e,t,a,r,n){var o=this;if(0===t.length)return this.addLog("Import finished.",a),void n();var s=t.shift(),d="deactivate"===s?"Deactivating plugin":"Importing "+s;r=r||1,this.addLog(d,a),(0,i.default)("import_plugin",{perform:s,pluginSlug:e,paged:r}).done((function(i){r=1,i&&i.page&&i.page<i.total_pages&&(r=i.page+1,t.unshift(s)),o.addLog(i.success?i.message:i.error,a),o.ajaxImport(e,t,a,r,n)})).fail((function(r){this.addLog(r.statusText,a),this.ajaxImport(e,t,a,null,n)}))},addLog:function(e,t){var a=new Date,r=t.val()+"["+(10>a.getHours()?"0":"")+a.getHours()+":"+(10>a.getMinutes()?"0":"")+a.getMinutes()+":"+(10>a.getSeconds()?"0":"")+a.getSeconds()+"] "+e+"\n";t.text(r).scrollTop(t[0].scrollHeight-t.height()-20)},cleanPlugin:function(t){var a=e(t.currentTarget),r=a.closest("form").find(".rank-math-box-tabs > .active-tab").text().trim();window.confirm(rankMath.cleanPluginConfirm.replace("%s",r))&&(a.prop("disabled",!0),(0,i.default)("clean_plugin",{pluginSlug:a.data("slug")}).always((function(){a.prop("disabled",!1),e("html, body").animate({scrollTop:0},"fast")})).done((function(t){t.success&&a.closest("tr").fadeOut((function(){e(this).remove()})),(0,o.default)(t.success?t.message:t.error,t.success?"success":"error",e(".wp-header-end"),5e3)})))}}).init()}))}()}();